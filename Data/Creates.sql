CREATE DATABASE ROMAN;

USE ROMAN;

CREATE TABLE TIPO_USUARIOS(
	TIPO_USUARIO_ID INT IDENTITY PRIMARY KEY,
	TIPO VARCHAR(120) UNIQUE NOT NULL
	)
CREATE TABLE USUARIOS(
	ID INT IDENTITY PRIMARY KEY,	
	EMAIL VARCHAR(200) NOT NULL UNIQUE,
	NOME VARCHAR(200) NOT NULL,
	SENHA VARCHAR(200) NOT NULL,
	ID_TIPO_USUARIO INT FOREIGN KEY REFERENCES TIPO_USUARIOS(TIPO_USUARIO_ID) NOT NULL
);

CREATE TABLE PROFESSORES(
	PROFESSOR_ID INT IDENTITY PRIMARY KEY,
	ID_USUARIO INT FOREIGN KEY REFERENCES USUARIOS(ID),
);

CREATE TABLE ADMINISTRADORES(
	ADMINISTRADOR_ID INT IDENTITY PRIMARY KEY,
	ID_USUARIO INT FOREIGN KEY REFERENCES USUARIOS(ID)
);

CREATE TABLE EQUIPES(
	EQUIPE_ID INT IDENTITY PRIMARY KEY,
	NOME VARCHAR(200) UNIQUE NOT NULL,
)
CREATE TABLE PROFESSOR_EQUIPE(	
	ID_PROFESSOR INT NOT NULL FOREIGN KEY REFERENCES PROFESSORES(PROFESSOR_ID),
	ID_EQUIPE INT NOT NULL FOREIGN KEY REFERENCES EQUIPES(EQUIPE_ID)
);


CREATE TABLE TEMAS(
	TEMAID INT IDENTITY PRIMARY KEY,
	TEMA VARCHAR(200) UNIQUE NOT NULL,
	ATIVO BIT NOT NULL,
)

CREATE TABLE PROJETOS(
	PROJETO_ID INT IDENTITY PRIMARY KEY,
	TITULO VARCHAR(200) UNIQUE NOT NULL,
	DESCRICAO VARCHAR(700) NOT NULL,
	ID_TEMA INT NOT NULL FOREIGN KEY REFERENCES TEMAS(TEMAID)
)

CREATE TABLE PROFESSOR_PROJETO(
	ID_PROFESSOR INT NOT NULL FOREIGN KEY REFERENCES PROFESSORES(PROFESSOR_ID),
	ID_PROJETO INT NOT NULL FOREIGN KEY REFERENCES PROJETOS(PROJETO_ID)
)